webpackJsonp([24],{"9DIb":function(e,t,o){var s=o("VU/8")(o("K/Hu"),o("cK8i"),!1,null,null,null);e.exports=s.exports},"K/Hu":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{ifReady:!1,from_selected_radio_button:"",to_selected_radio_button:"",stockTransfersData:null,stockTransfers:[],warehouses:[],fromWarehouse:null,toWarehouse:null,branches:[],fromBranch:null,toBranch:null,items:null,number:null,stock_receivable_from_id:null,stock_receivable_from_type:null,stock_receivable_to_id:null,stock_receivable_to_type:null,stock_receive_items:[],stock_transfer_id:""}},mounted:function(){var e=this,t=new Promise(function(t,o){axios.get("/api/branches/get-all-branches/").then(function(o){e.branches=o.data.branches,t()}).catch(function(e){console.log(e),o()})}),o=new Promise(function(t,o){axios.get("/api/warehouses/get-all-warehouses/").then(function(o){e.warehouses=o.data.warehouses,t()}).catch(function(e){console.log(e),o()})}),s=new Promise(function(t,o){axios.get("/api/stock-transfers/get-all-stock-transfers/").then(function(o){console.log("Stock Transfer: "+JSON.stringify(o.data.stock_transfers)),e.stockTransfers=o.data.stock_transfers,t()}).catch(function(e){console.log(e),o()})}),a=new Promise(function(t,o){axios.get("/api/items/get-all-items/").then(function(o){e.items=o.data.items,t()}).catch(function(e){console.log(e),o()})});Promise.all([t,o,s,a]).then(function(){e.ifReady=!0,e.addItem()})},methods:{selectStockTransfers:function(){this.stock_transfer_id=this.stockTransfersData.id,console.log("SR: "+this.stock_transfer_id)},selectFromBranch:function(){this.stock_receivable_from_id=this.fromBranch.id,this.stock_receivable_from_type="App\\Branch"},selectFromWarehouse:function(){this.stock_receivable_from_id=this.fromWarehouse.id,this.stock_receivable_from_type="App\\Warehouse"},selectToBranch:function(){this.stock_receivable_to_id=this.toBranch.id,this.stock_receivable_to_type=" App\\Branch"},selectToWarehouse:function(){this.stock_receivable_to_id=this.toWarehouse.id,this.stock_receivable_to_type="App\\Warehouse"},selectItem:function(e){this.stock_receive_items[e].item instanceof Object&&(this.stock_receive_items[e].item_id=this.stock_receive_items[e].item.id,this.stock_receive_items[e].unitOfMeasurement=this.stock_receive_items[e].item.default_unit_of_measurement.name,this.stock_receive_items[e].unit_of_measurement_id=this.stock_receive_items[e].item.default_unit_of_measurement.id)},addItem:function(){this.stock_receive_items.push({stock_keeping_unit:"",item:"",item_id:"",quantity:"",unitOfMeasurements:[],unitOfMeasurement:"",unit_of_measurement_id:""})},removeItem:function(e){this.stock_receive_items.splice(e,1)},createNewStockRequest:function(){var e=this;this.ifReady=!1;var t=[];this.stock_receive_items.forEach(function(e){t.push({item_id:e.item_id,quantity:e.quantity,unit_of_measurement_id:e.unit_of_measurement_id})});var o={number:this.number,stock_receivable_from_id:this.stock_receivable_from_id,stock_receivable_from_type:this.stock_receivable_from_type,stock_receivable_to_id:this.stock_receivable_to_id,stock_receivable_to_type:this.stock_receivable_to_type,stock_receive_items:t,stock_transfer_id:this.stock_transfer_id};axios.post("/api/stock-receives",o).then(function(t){e.$router.push({name:"stock-receives.index"})}).catch(function(t){console.log(t),alert("Error! Can't create stock receive"),e.ifReady=!0})}}}},cK8i:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[e._v("\n            Stock Receive / Create New Stock Receive\n        ")]),e._v(" "),o("div",{staticClass:"card-body"},[e.ifReady?o("div",[o("form",{on:{submit:function(t){return t.preventDefault(),e.createNewStockRequest(t)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6 form-group"},[o("label",[e._v("Stock Transfer")]),e._v(" "),o("vue-select",{attrs:{label:"number",options:e.stockTransfers},on:{input:function(t){e.selectStockTransfers()}},model:{value:e.stockTransfersData,callback:function(t){e.stockTransfersData=t},expression:"stockTransfersData"}})],1),e._v(" "),o("div",{staticClass:"col-md-6 form-group"},[o("label",[e._v("Stock Receive Number")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"number"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.number},on:{input:function(t){t.target.composing||(e.number=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"col-md-6 form-group"},[o("label",[e._v("From")]),e._v(" "),o("br"),e._v(" "),o("div",{staticClass:"form-check form-check-inline"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.from_selected_radio_button,expression:"from_selected_radio_button"}],attrs:{type:"radio",value:"warehouse"},domProps:{checked:e._q(e.from_selected_radio_button,"warehouse")},on:{change:function(t){e.from_selected_radio_button="warehouse"}}}),e._v(" "),o("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[e._v("  Warehouse")])]),e._v(" "),o("div",{staticClass:"form-check form-check-inline"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.from_selected_radio_button,expression:"from_selected_radio_button"}],attrs:{type:"radio",value:"branch"},domProps:{checked:e._q(e.from_selected_radio_button,"branch")},on:{change:function(t){e.from_selected_radio_button="branch"}}}),e._v(" "),o("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[e._v("  Branch")])]),e._v(" "),o("vue-select",{directives:[{name:"show",rawName:"v-show",value:"warehouse"===e.from_selected_radio_button,expression:"from_selected_radio_button === 'warehouse'"}],attrs:{label:"name",options:e.warehouses},on:{input:function(t){e.selectFromWarehouse()}},model:{value:e.fromWarehouse,callback:function(t){e.fromWarehouse=t},expression:"fromWarehouse"}}),e._v(" "),o("vue-select",{directives:[{name:"show",rawName:"v-show",value:"branch"===e.from_selected_radio_button,expression:"from_selected_radio_button === 'branch'"}],attrs:{label:"name",options:e.branches},on:{input:function(t){e.selectFromBranch()}},model:{value:e.fromBranch,callback:function(t){e.fromBranch=t},expression:"fromBranch"}})],1),e._v(" "),o("div",{staticClass:"col-md-6 form-group"},[o("label",[e._v("To")]),e._v(" "),o("br"),e._v(" "),o("div",{staticClass:"form-check form-check-inline"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.to_selected_radio_button,expression:"to_selected_radio_button"}],attrs:{type:"radio",value:"warehouse"},domProps:{checked:e._q(e.to_selected_radio_button,"warehouse")},on:{change:function(t){e.to_selected_radio_button="warehouse"}}}),e._v(" "),o("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[e._v("  Warehouse")])]),e._v(" "),o("div",{staticClass:"form-check form-check-inline"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.to_selected_radio_button,expression:"to_selected_radio_button"}],attrs:{type:"radio",value:"branch"},domProps:{checked:e._q(e.to_selected_radio_button,"branch")},on:{change:function(t){e.to_selected_radio_button="branch"}}}),e._v(" "),o("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[e._v("  Branch")])]),e._v(" "),o("vue-select",{directives:[{name:"show",rawName:"v-show",value:"warehouse"===e.to_selected_radio_button,expression:"to_selected_radio_button === 'warehouse'"}],attrs:{label:"name",options:e.warehouses},on:{input:function(t){e.selectToWarehouse()}},model:{value:e.toWarehouse,callback:function(t){e.toWarehouse=t},expression:"toWarehouse"}}),e._v(" "),o("vue-select",{directives:[{name:"show",rawName:"v-show",value:"branch"===e.to_selected_radio_button,expression:"to_selected_radio_button === 'branch'"}],attrs:{label:"name",options:e.branches},on:{input:function(t){e.selectToBranch()}},model:{value:e.toBranch,callback:function(t){e.toBranch=t},expression:"toBranch"}})],1)]),e._v(" "),o("br"),e._v(" "),o("table",{staticClass:"table table-hover table-sm"},[e._m(0),e._v(" "),e._m(1),e._v(" "),o("tbody",e._l(e.stock_receive_items,function(t,s){return o("tr",{key:s},[o("td",[e._v(e._s(t.item.stock_keeping_unit))]),e._v(" "),o("td",[o("vue-select",{attrs:{label:"name",options:e.items},on:{input:function(t){e.selectItem(s)}},model:{value:t.item,callback:function(o){e.$set(t,"item",o)},expression:"stock_receive_item.item"}})],1),e._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"stock_receive_item.quantity",modifiers:{number:!0}}],staticClass:"form-control",domProps:{value:t.quantity},on:{input:function(o){o.target.composing||e.$set(t,"quantity",e._n(o.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),o("td",[e._v(e._s(t.unitOfMeasurement))]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:e.removeItem}},[e._v("Remove")])])])})),e._v(" "),o("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:e.addItem}},[e._v("Add Item")])]),e._v(" "),o("button",{staticClass:"btn btn-success btn-sm mt-5",attrs:{type:"submit"}},[e._v("Create New Stock Receive")])])]):o("div",[e._m(2)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("caption",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3"})])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[e._v("SKU")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Name")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Quantity")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("UOM")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Action")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])}]}}});
//# sourceMappingURL=24.js.map