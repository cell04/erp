{"version":3,"sources":["webpack:///./resources/js/views/stock-receives/Create.vue?c571","webpack:///./resources/js/views/stock-receives/Create.vue","webpack:///resources/js/views/stock-receives/Create.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","componentVal","on","submit","$event","preventDefault","createNewStockRequest","stock_requestable_from_type","directives","name","rawName","value","selectedWarehouse","expression","attrs","type","readonly","domProps","input","target","composing","$set","_e","selectedBranch","checked","_q","selected_radio_button","change","label","options","warehouses","selectWarehouse","warehouseData","id","model","callback","$$v","branches","selectBranch","branchData","_m","_l","item","key","sku","$$selectedVal","Array","prototype","filter","call","o","selected","map","_value","multiple","onSelectItem","item_id","disabled","hidden","modifiers","number","_n","blur","$forceUpdate","unit_of_measurement_name","click","deleteRow","addRow","staticRenderFns","scope","staticStyle","width","role","aria-valuenow","aria-valuemin","aria-valuemax","Component","__webpack_require__","normalizeComponent","__webpack_exports__","data","ifReady","itemData","stock_requestable_from_id","stock_requestable_to_id","stock_requestable_to_type","itemsList","stock_request_items","sub_department_id","warehouse_id","branch_id","mounted","_this","$route","params","query","Promise","resolve","reject","axios","get","then","res","warehouse","branch","console","log","JSON","stringify","items","methods","undefined","selectItem","index","Index","selectedItem","find","y","stock_keeping_unit","unit_of_measurement_id","default_unit_of_measurement_id","default_unit_of_measurement","push","quantity","splice","_this2","newItems","$data","forEach","element","formData","post","$router","catch","err","alert"],"mappings":"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","file":"22.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"\\n            \"+_vm._s(_vm.componentVal)+\"s / Create New \"+_vm._s(_vm.componentVal)+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[(_vm.ifReady)?_c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createNewStockRequest($event)}}},[_c('div',{staticClass:\"row\"},[(_vm.stock_requestable_from_type === 'warehouse')?_c('div',{staticClass:\"col-md-6 form-group\"},[_c('label',[_vm._v(\"Warehouse \")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedWarehouse.name),expression:\"selectedWarehouse.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(_vm.selectedWarehouse.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.selectedWarehouse, \"name\", $event.target.value)}}})]):_vm._e(),_vm._v(\" \"),(_vm.stock_requestable_from_type === 'branch')?_c('div',{staticClass:\"col-md-6 form-group\"},[_c('label',[_vm._v(\"Branch \")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedBranch.name),expression:\"selectedBranch.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(_vm.selectedBranch.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.selectedBranch, \"name\", $event.target.value)}}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6 form-group\"},[_c('label',[_vm._v(\"Select where to get stocks: \")]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected_radio_button),expression:\"selected_radio_button\"}],attrs:{\"type\":\"radio\",\"value\":\"warehouse\"},domProps:{\"checked\":_vm._q(_vm.selected_radio_button,\"warehouse\")},on:{\"change\":function($event){_vm.selected_radio_button=\"warehouse\"}}}),_vm._v(\" Warehouse\\n                                \"),_c('vue-select',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected_radio_button === 'warehouse'),expression:\"selected_radio_button === 'warehouse'\"}],staticClass:\"mb-2\",attrs:{\"label\":\"name\",\"options\":_vm.warehouses},on:{\"input\":function($event){_vm.selectWarehouse(_vm.warehouseData.id)}},model:{value:(_vm.warehouseData),callback:function ($$v) {_vm.warehouseData=$$v},expression:\"warehouseData\"}})],1),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selected_radio_button),expression:\"selected_radio_button\"}],attrs:{\"type\":\"radio\",\"value\":\"branch\"},domProps:{\"checked\":_vm._q(_vm.selected_radio_button,\"branch\")},on:{\"change\":function($event){_vm.selected_radio_button=\"branch\"}}}),_vm._v(\" Branch\\n                                \"),_c('vue-select',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected_radio_button === 'branch'),expression:\"selected_radio_button === 'branch'\"}],staticClass:\"mb-2\",attrs:{\"label\":\"name\",\"options\":_vm.branches},on:{\"input\":function($event){_vm.selectBranch(_vm.branchData.id)}},model:{value:(_vm.branchData),callback:function ($$v) {_vm.branchData=$$v},expression:\"branchData\"}})],1)])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('table',{staticClass:\"table table-hover table-sm\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.stock_request_items),function(item,key){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(item.sku))]),_vm._v(\" \"),_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.item_id),expression:\"item.item_id\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"item_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){_vm.onSelectItem(item.item_id, key)}]}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\",\"hidden\":\"\"}},[_vm._v(\"Select Item\")]),_vm._v(\" \"),_vm._l((_vm.itemsList),function(item){return _c('option',{key:item.id,domProps:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])})],2)]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(item.quantity),expression:\"item.quantity\",modifiers:{\"number\":true}}],staticClass:\"form-control\",domProps:{\"value\":(item.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", _vm._n($event.target.value))},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.unit_of_measurement_name))]),_vm._v(\" \"),_c('td',[_c('button',{staticClass:\"btn btn-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.deleteRow}},[_vm._v(\"Remove\")])])])})),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addRow}},[_vm._v(\"Add Row\")])]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-success btn-sm mt-5\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Create New \"+_vm._s(_vm.componentVal))])])]):_c('div',[_vm._m(2)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('caption',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"SKU\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Quantity\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"UOM\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Action\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"progress-bar progress-bar-striped progress-bar-animated\",staticStyle:{\"width\":\"100%\"},attrs:{\"role\":\"progressbar\",\"aria-valuenow\":\"100\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}})])}]\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48a2528e\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/js/views/stock-receives/Create.vue\n// module id = 1ysb\n// module chunks = 22","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"syntax-dynamic-import\\\"]}!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Create.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48a2528e\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Create.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/js/views/stock-receives/Create.vue\n// module id = 9DIb\n// module chunks = 22","<template>\r\n    <div>\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                {{componentVal}}s / Create New {{componentVal}}\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <div v-if=\"ifReady\">\r\n                    <form v-on:submit.prevent=\"createNewStockRequest\">\r\n\r\n                        <div class=\"row\">\r\n\r\n                            <div class=\"col-md-6 form-group\" v-if=\"stock_requestable_from_type === 'warehouse'\">\r\n                                <label>Warehouse </label>\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"selectedWarehouse.name\" readonly>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6 form-group\" v-if=\"stock_requestable_from_type === 'branch'\">\r\n                                <label>Branch </label>\r\n                                <input type=\"text\" class=\"form-control\" v-model=\"selectedBranch.name\" readonly>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6 form-group\">\r\n                                <label>Select where to get stocks: </label>\r\n                                <div>\r\n                                    <input type=\"radio\" v-model=\"selected_radio_button\" value=\"warehouse\"> Warehouse\r\n                                    <vue-select class=\"mb-2\" v-model=\"warehouseData\" @input=\"selectWarehouse(warehouseData.id)\" \r\n                                    label=\"name\" :options=\"warehouses\" v-show=\"selected_radio_button === 'warehouse'\">\r\n                                    </vue-select>\r\n                                </div>\r\n                                <div>\r\n                                    <input type=\"radio\" v-model=\"selected_radio_button\" value=\"branch\"> Branch\r\n                                    <vue-select class=\"mb-2\" v-model=\"branchData\" @input=\"selectBranch(branchData.id)\" \r\n                                    label=\"name\" :options=\"branches\" v-show=\"selected_radio_button === 'branch'\">\r\n                                    </vue-select>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <br />\r\n                        <table class=\"table table-hover table-sm\">\r\n                            <caption>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-3\">\r\n                                    </div>\r\n                                </div>\r\n                            </caption>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">SKU</th>\r\n                                    <th scope=\"col\">Name</th>\r\n                                    <th scope=\"col\">Quantity</th>\r\n                                    <th scope=\"col\">UOM</th>\r\n                                    <th scope=\"col\">Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr :key=\"item.id\" v-for=\"(item, key) in stock_request_items\">\r\n                                    <td>{{ item.sku }}</td>\r\n                                    <td>\r\n                                        <!-- <vue-select v-model=\"itemData\" @input=\"selectItem()\" label=\"name\" :options=\"stock_request_items\"></vue-select> -->\r\n                                        <select class=\"form-control\" v-model=\"item.item_id\" v-on:change=\"onSelectItem(item.item_id, key)\">\r\n                                            <option value=\"\" disabled hidden>Select Item</option>\r\n                                            <option :key=\"item.id\" v-for=\"item in itemsList\" v-bind:value=\"item.id\">{{ item.name }}</option>\r\n                                        </select>\r\n                                    </td>\r\n                                    <td><input class=\"form-control\" v-model.number=\"item.quantity\"> </td>\r\n                                    <td>{{ item.unit_of_measurement_name }}</td>\r\n                                    <td>\r\n                                        <button type=\"button\" class=\"btn btn-danger btn-sm\" @click=\"deleteRow\">Remove</button>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                            <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"addRow\">Add Row</button>\r\n                        </table>\r\n\r\n                        <button type=\"submit\" class=\"btn btn-success btn-sm mt-5\">Create New {{componentVal}}</button>\r\n                    </form>\r\n                </div>\r\n\r\n                <div v-else>\r\n                    <div class=\"progress\">\r\n                        <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 100%;\"></div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                componentVal: \"Stock Request\",\r\n                ifReady: true,\r\n                warehouseData: null,\r\n                branchData: null,\r\n                itemData: null,\r\n                selected_radio_button: \"\",\r\n                stock_requestable_from_id : null,\r\n                stock_requestable_from_type: null,\r\n                stock_requestable_to_id: null,\r\n                stock_requestable_to_type: null,\r\n                selectedWarehouse: \"\",\r\n                selectedBranch: \"\",\r\n                warehouses: [],\r\n                branches: [],\r\n                itemsList: [],\r\n                stock_request_items: [],\r\n                sub_department_id: \"\",\r\n                warehouse_id: '',\r\n                branch_id: '',\r\n                item_id: ''\r\n            };\r\n        },\r\n\r\n        mounted() {\r\n            this.stock_requestable_from_id = this.$route.params.id;\r\n            this.stock_requestable_from_id = this.$route.params.id;\r\n            this.stock_requestable_from_type = this.$route.query.type;\r\n\r\n            let promiseSelectedWarehouse= new Promise((resolve, reject) => {\r\n                axios.get('/api/warehouses/' + this.$route.params.id).then(res => {\r\n                    this.selectedWarehouse = res.data.warehouse;\r\n                    resolve();\r\n                });\r\n            });\r\n\r\n            let promiseSelectedBranch = new Promise((resolve, reject) => {\r\n                axios.get('/api/branches/' + this.$route.params.id).then(res => {\r\n                    this.selectedBranch = res.data.branch;\r\n                    resolve();\r\n                });\r\n            });\r\n\r\n            let promiseWarehouse = new Promise((resolve, reject) => {\r\n                axios.get(\"/api/warehouses/get-all-warehouses/\").then(res => {\r\n                    // console.log('Warehouses: ' + JSON.stringify(res.data));\r\n                    this.warehouses = res.data.warehouses;\r\n                    if (!res.data) {\r\n                        return;\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n\r\n            let promiseBranch = new Promise((resolve, reject) => {\r\n                axios.get(\"/api/branches/get-all-branches/\").then(res => {\r\n                    // console.log('Branches: ' + JSON.stringify(res.data));\r\n                    this.branches = res.data.branches;\r\n                    if (!res.data) {\r\n                        return;\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n\r\n            let promiseItem = new Promise((resolve, reject) => {\r\n                axios.get(\"/api/items/get-all-items/\").then(res => {\r\n                    console.log('Items: ' + JSON.stringify(res.data));\r\n                    this.itemsList = res.data.items;\r\n                    if (!res.data) {\r\n                        return;\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n\r\n            this.addRow();\r\n        },\r\n        methods: {\r\n            selectWarehouse(id){\r\n                this.warehouse_id = id;\r\n                this.stock_requestable_to_id = id,\r\n                this.stock_requestable_to_type = 'warehouse',\r\n                this.branch_id = null;\r\n                this.branchData = undefined;\r\n                console.log('warehouse_id: ' + this.warehouse_id);\r\n            },\r\n\r\n            selectBranch(id){\r\n                this.branch_id = id;\r\n                this.stock_requestable_to_id = id,\r\n                this.stock_requestable_to_type = 'branch',\r\n                this.warehouse_id = null;\r\n                this.warehouseData = undefined;\r\n                console.log('branch_id: ' + this.branch_id);\r\n            },\r\n\r\n            selectItem(){\r\n                this.item_id = this.itemData.id;\r\n                console.log('item_id: ' + this.item_id);\r\n            },\r\n\r\n            onSelectItem(id, index) {\r\n                console.log(id, index);\r\n                const Index = index\r\n                const selectedItem = this.itemsList.find(y => y.id === id);\r\n                console.log(selectedItem)\r\n                this.stock_request_items[Index].sku = selectedItem.stock_keeping_unit,\r\n                this.stock_request_items[Index].item_id = selectedItem.id,\r\n                this.stock_request_items[Index].unit_of_measurement_id = selectedItem.default_unit_of_measurement_id,\r\n                this.stock_request_items[Index].unit_of_measurement_name = selectedItem.default_unit_of_measurement.name\r\n            },\r\n            addRow() {\r\n                this.stock_request_items.push({\r\n                    sku: '',\r\n                    item_id: '',\r\n                    quantity: '',\r\n                    unit_of_measurement_id: '',\r\n                    unit_of_measurement_name: ''\r\n                })\r\n            },\r\n            deleteRow(index) {\r\n                this.stock_request_items.splice(index,1)\r\n            },\r\n            createNewStockRequest() {\r\n                const newItems = [];\r\n                this.$data.stock_request_items.forEach(element => {\r\n                    newItems.push({\r\n                        item_id: element.item_id,\r\n                        quantity: element.quantity,\r\n                        unit_of_measurement_id: element.unit_of_measurement_id,\r\n                    })\r\n                });\r\n                const formData = {\r\n                    stock_requestable_from_id: this.stock_requestable_from_id,\r\n                    stock_requestable_from_type: this.stock_requestable_from_type,\r\n                    stock_requestable_to_id: this.stock_requestable_to_id,\r\n                    stock_requestable_to_type: this.stock_requestable_to_type,\r\n                    stock_request_items: newItems\r\n                }\r\n\r\n                console.log(formData);\r\n\r\n                axios.post(\"/api/stock-requests\", formData).then(res => {\r\n                    console.log(JSON.stringify(res.data));\r\n                    this.$router.push({ name: \"stock-requests.index\" });\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                    alert(`Error! Can't create stock request`);\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// resources/js/views/stock-receives/Create.vue"],"sourceRoot":""}