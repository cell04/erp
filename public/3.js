webpackJsonp([3],{Dztk:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=function(t,s,e,a){return{type:t,data:{labels:s,datasets:e},options:a}},r=function(t,s){return t&&s?new Chart(t,s):new Chart};s.default={data:function(){return{selectedBranchWeek:"",selectedTypeWeek:"",ifReady:!1,chart:"",salesReportChart:"",todaysPurchaseOrderChart:"",todaysReceivedOrderChart:"",todaysProfitChart:"",salesComparisonChart:"",purchaseComparisonChart:"",dateToday:new Date,quotations:[],quotationsForApproval:[],todaysQuotations:[],invoices:[],purchaseOrders:[],todaysPurchaseOrders:[],bills:[],todaysReceiveOrders:[],receiveOrder:[],todaysStockRequests:[],stockRequests:[],invoicePayment:"",stockRequest:[],stockTransfers:[],options:["Week 1","Week 2","Week 3","Week 4"],totalProfit:0}},methods:{changeBranchWeek:function(){},changeTypeWeek:function(){},kFormatter:function(t){return t>999?(t/1e3).toFixed(1)+"K":t}},mounted:function(){var t=this;axios.get("/api/quotations/get-all-quotations").then(function(s){var e=s.data.quotations;console.groupCollapsed("Quotation Request"),JSON.stringify(e),t.quotations=e?e.sort(function(t,s){return new Date(t.created_at)-new Date(s.created_at)}):[],t.quotationsForApproval=e.filter(function(t){return 0===t.status}),t.todaysQuotations=e.filter(function(s){return 0===s.status&&new Date(s.created_at).getDate()===t.dateToday.getDate()}),console.groupEnd()}).catch(function(t){return console.error(t)}),axios.get("/api/invoices/get-all-invoices").then(function(t){console.groupCollapsed("Invoice Request"),t.data.invoices.sort(function(t,s){return new Date(t.created_at)-new Date(s.created_at)}),console.groupEnd()}).catch(function(t){return console.error(t)}),axios.get("/api/purchase-orders/get-all-purchase-orders").then(function(s){console.groupCollapsed("Purchase Orders");var e=s.data.purchase_orders;e.filter(function(t){return 0===t.status}),t.todaysPurchaseOrders=e.sort(function(t,s){return new Date(t.created_at)-new Date(s.created_at)}),t.purchaseOrders=t.todaysPurchaseOrders.filter(function(t,s){return s<10}),console.groupEnd()}).catch(function(t){return console.error(t)}),axios.get("/api/bill-payments/get-all-bill-payments").then(function(t){console.groupCollapsed("Bills Payment");var s={bills:t.data.bills_payments};JSON.stringify(s),console.groupEnd()}).catch(function(t){return console.error(t)}),axios.get("/api/receive-orders/get-all-receive-orders").then(function(s){console.groupCollapsed("Receive Orders");var e=s.data.receive_orders;t.todaysReceiveOrders=e?e.sort(function(t,s){return new Date(t.created_at)-new Date(s.created_at)}):[],t.purchaseOrders=t.todaysPurchaseOrders.filter(function(t,s){return s<10}),console.groupEnd()}).catch(function(t){return console.error(t)}),axios.get("/api/invoice-payments/get-all-invoice-payments").then(function(s){console.groupCollapsed("Invoice Payments");var e=s.data.invoice_payments;t.invoices=e?e.sort(function(t,s){return new Date(t.created_at)-new Date(s.created_at)}):[];var a=JSON.parse(JSON.stringify({res:e}));t.totalProfit=t.invoices.reduce(function(t,s){var e=t.amount?t.amount:0,a=s.amount?s.amount:0;return parseInt(e)+parseInt(a)})||0,t.total;var r=a.res.filter(function(t){return new Date(t.created_at).getMonth()===(new Date).getMonth()}).sort(function(t,s){return new Date(t.created_at)-new Date(s.created_at)});Date.prototype.getWeekNumber=function(){var t=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),s=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-s);var e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-e)/864e5+1)/7)};var i=[[],[],[],[]];r.map(function(t){var s,e=(s=moment(t.created_at)).week()-moment(s).startOf("month").week()+1;i[e-1].push(t)}),console.groupEnd()}).catch(function(t){return console.error(t)}),axios.get("/api/stock-requests/get-all-unapproved-stock-requests").then(function(s){console.groupCollapsed("Stock Requests");var e=s.data.stock_requests;JSON.stringify({stock_request:e}),t.stockRequests=e?e.sort(function(t,s){return new Date(t.created_at)-new Date(s.created_at)}):[],console.groupEnd()}).catch(function(t){return console.error(t)}),axios.get("/api/stock-transfers/get-all-stock-transfers").then(function(s){var e=s.data.stock_transfers.filter(function(t){return 0===t.status});t.stockTransfers=e?e.sort(function(t,s){return new Date(t.created_at)-new Date(s.created_at)}):[],console.groupEnd()}).catch(function(t){return console.error(t)}),null==this.$store.state.corporation_id&&this.$router.push({name:"corporations.select"});var s=a("bar",["Week 1","Week 2","Week 3","Week 4"],[],{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}});r("sales-report-branch",s),r("sales-report-type",s),new Promise(function(s,e){axios.get("/api/statistics/test-payload").then(function(e){var i=e.data.payload,o=i.map(function(t){return s=t.date,new Date(s).toDateString();var s}),n=i.map(function(t){return t.data}),c=a("bar",o,[{label:"Sales",data:n,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:0,lineTension:0}],{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}),l=(a("line",o,[{data:n,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointRadius:0,lineTension:0,fill:!1}],{legend:{display:!1},scales:{yAxes:[{display:!1,gridLines:{display:!1},ticks:{beginAtZero:!0}}],xAxes:[{display:!1}]}}),a("bar",["Week 1","Week 2","Week 3","Week 4"],[{label:"Type 1",data:[3,7,4,6],backgroundColor:"rgba(54, 162, 235, 0.3)",borderColor:"rgba(54, 162, 235, 1)"},{label:"Type 2",data:[4,3,5,7],backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)"},{label:"Type 3",data:[7,2,6,9],backgroundColor:"rgba(54, 162, 235, 0.9)",borderColor:"rgba(54, 162, 235, 1)"}],{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}));t.salesReportChart=r("chart1",l),t.salesComparisonChart=r("chart5",c),t.purchaseComparisonChart=r("chart6",l),s()})}).then(function(){t.ifReady=!0})}}},Yxqj:function(t,s,e){var a=e("VU/8")(e("Dztk"),e("xYiw"),!1,function(t){e("b0nq")},null,null);t.exports=a.exports},b0nq:function(t,s,e){var a=e("rUl2");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("40911cfa",a,!0,{})},rUl2:function(t,s,e){(t.exports=e("FZ+f")(!1)).push([t.i,".center{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.card-min{min-height:200px}.card-mod{padding-top:10px}",""])},xYiw:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mx-md-4 px-0"},[t._m(0),t._v(" "),e("div",{staticClass:"row"},[t._m(1),t._v(" "),e("div",{staticClass:"col-7"},[e("div",{staticClass:"card card-min"},[e("div",{staticClass:"card-body card-mod"},[e("vue-select",{attrs:{placeholder:"Select a Week",label:"Select Week",options:t.options},on:{input:function(s){t.changeBranchWeek()}},model:{value:t.selectedBranchWeek,callback:function(s){t.selectedBranchWeek=s},expression:"selectedBranchWeek"}}),t._v(" "),t._m(2)],1)])])]),t._v(" "),e("div",{staticClass:"row mt-3"},[t._m(3),t._v(" "),e("div",{staticClass:"col-7"},[e("div",{staticClass:"card card-min"},[e("div",{staticClass:"card-body card-mod"},[e("vue-select",{attrs:{placeholder:"Select a Week",options:t.options},on:{input:function(s){t.changeBranchWeek()}},model:{value:t.selectedTypeWeek,callback:function(s){t.selectedTypeWeek=s},expression:"selectedTypeWeek"}}),t._v(" "),t._m(4)],1)])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-sm-6"},[e("div",{staticClass:"grid"},[e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"card"},[t._m(5),t._v(" "),this.quotationsForApproval&&this.quotationsForApproval.length>0?e("span",t._l(this.quotationsForApproval,function(s){return e("ul",{key:s.id,staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"quotations.view",params:{id:s.id}}}},[t._v(t._s(s.number))])],1)])})):e("span",[t._m(6)])])]),t._v(" "),e("div",{staticClass:"col-6"},[e("div",{staticClass:"card"},[t._m(7),t._v(" "),this.stockRequests&&this.stockRequests.length>0?e("span",t._l(this.stockRequests,function(s){return e("ul",{key:s.id,staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"stock-requests.view",params:{id:s.id}}}},[t._v(t._s(s.number))])],1)])})):e("span",[t._m(8)])])]),t._v(" "),e("div",{staticClass:"col-6 mt-2"},[e("div",{staticClass:"card"},[t._m(9),t._v(" "),this.stockTransfers&&this.stockTransfers.length>0?e("span",t._l(this.stockTransfers,function(s){return e("ul",{key:s.id,staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"stock-transfers.view",params:{id:s.id}}}},[t._v(t._s(s.number))])],1)])})):e("span",[t._m(10)])])]),t._v(" "),e("div",{staticClass:"col-6 mt-2"},[e("div",{staticClass:"card"},[t._m(11),t._v(" "),this.purchaseOrders&&this.purchaseOrders.length>0?e("span",t._l(this.purchaseOrders,function(s){return e("ul",{key:s.id,staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"purchase-orders.view",params:{id:s.id}}}},[t._v(t._s(s.reference_number))])],1)])})):e("span",[t._m(12)])])])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 col-sm-12"},[e("div",{staticClass:"card card-min"},[e("div",{staticClass:"card-body row"},[e("div",{staticClass:"col-md-12 col-sm-12 text-center  center"},[e("span",{staticClass:"display-4"},[t._v(t._s(t.todaysPurchaseOrders.length))])])]),t._v(" "),e("div",{staticClass:"card-footer text-center"},[t._v("\n                                            Today's Issued Purchase Order\n                                        ")])])]),t._v(" "),e("div",{staticClass:"col-md-4 col-sm-12"},[e("div",{staticClass:"card card-min"},[e("div",{staticClass:"card-body row"},[e("div",{staticClass:"col-md-12 col-sm-12 text-center  center"},[e("span",{staticClass:"display-4"},[t._v(t._s(t.todaysReceiveOrders.length))])])]),t._v(" "),e("div",{staticClass:"card-footer text-center"},[t._v("\n                                            Today's Issued Received Order\n                                        ")])])]),t._v(" "),e("div",{staticClass:"col-md-4 col-sm-12"},[e("div",{staticClass:"card card-min"},[e("div",{staticClass:"card-body row"},[e("div",{staticClass:"col-md-12 col-sm-12 text-center  center"},[e("span",{staticClass:"display-4"},[t._v(t._s(this.kFormatter(t.totalProfit)))])])]),t._v(" "),e("div",{staticClass:"card-footer text-center"},[t._v("\n                                            Today's Profit\n                                        ")])])])])])]),t._v(" "),e("div",{staticClass:"row mt-3"})])]),t._v(" "),e("div",{staticClass:"col-md-4 col-sm-6"},[e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[t._m(13),t._v(" "),this.purchaseOrders&&this.purchaseOrders.length>0?e("span",t._l(this.purchaseOrders,function(s){return e("ul",{key:s.id,staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"purchase-orders.view",params:{id:s.id}}}},[t._v(t._s(s.reference_number))])],1)])})):e("span",[t._m(14)])])])]),t._v(" "),e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[t._m(15),t._v(" "),this.quotations&&this.quotations.length>0?e("span",t._l(this.quotations,function(s){return e("ul",{key:s.id,staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"quotations.view",params:{id:s.id}}}},[t._v(t._s(s.number))])],1)])})):e("span",[t._m(16)])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 my-3"},[s("span",{staticClass:"h3"},[this._v("Sales Report ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-5"},[s("span",{staticClass:"chart-1"},[s("div",{staticClass:"card card-min"},[s("div",{staticClass:"card-body card-mod"},[s("canvas",{staticClass:"chart",attrs:{id:"sales-report-branch"}})]),this._v(" "),s("div",{staticClass:"card-footer"},[s("small",{staticClass:"text-muted"},[this._v("Sales Report by Branch")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("table",{staticClass:"table table-hover table-sm mt-1"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[this._v("Branch")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Amount")])])]),this._v(" "),s("tbody",{},[s("tr")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-5"},[s("span",{staticClass:"chart-1"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("canvas",{staticClass:"chart",attrs:{id:"sales-report-type"}})]),this._v(" "),s("div",{staticClass:"card-footer"},[s("small",{staticClass:"text-muted"},[this._v("Sales Report by Type")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("table",{staticClass:"table table-hover table-sm mt-1"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[this._v("Type")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Amount")])])]),this._v(" "),s("tbody",{},[s("tr")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header"},[s("span",{staticClass:"subcontent-header"},[this._v(" Quotations for Approval")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item"},[this._v("No Pending Quotation")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header"},[s("span",{staticClass:"subcontent-header"},[this._v(" Stock Requests for Approval")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item"},[this._v("No Pending Stock Request")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header"},[s("span",{staticClass:"subcontent-header"},[this._v(" Stock Transfers for Approval")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item"},[this._v("No Pendting Stock Transfer")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header"},[s("span",{staticClass:"subcontent-header"},[this._v(" Purchase Orders for Approval")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item"},[this._v("No Pending Order")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header"},[s("span",{staticClass:"subcontent-header"},[this._v(" Latest Purchase Orders")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item"},[this._v("No Purchase Order Available")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header"},[s("span",{staticClass:"subcontent-header"},[this._v(" Latest Quotations")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item"},[this._v("No Quotations Available")])])}]}}});
//# sourceMappingURL=3.js.map