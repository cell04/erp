webpackJsonp([19],{GbsF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{ifReady:!1,name:"",email:"",role_id:"",roleId:"",mobile_number:"",image:null,roleList:[]}},mounted:function(){var e=this,t=new Promise(function(t,a){axios.get("/api/users/"+e.$route.params.id).then(function(a){console.log(a),e.id=a.data.user.id,e.name=a.data.user.name,e.email=a.data.user.email,e.mobile_number=a.data.user.mobile_number,e.roleId=a.data.user.user_role.role,t()})}),a=new Promise(function(t,a){axios.get("/api/roles/get-all-roles/").then(function(a){console.log(a),e.ifReady=!0,e.roleList=a.data.roles,a.data.response&&t()})});Promise.all([t,a]).then(function(){e.ifReady=!0})},methods:{viewUsers:function(){this.$router.push({name:"users.view",params:{id:this.$route.params.id}})},onFileSelected:function(e){this.image=e.target.files[0]},selectRole:function(){this.role_id=this.roleId.id},updateAdmin:function(){var e=this;this.ifReady=!1;var t=new FormData;t.append("_method","PATCH"),t.append("name",this.name),t.append("role_id",this.role_id),t.append("email",this.email),t.append("mobile_number",this.mobile_number),null!=this.image&&t.append("image",this.image),axios.post("/api/users/"+this.$route.params.id,t).then(function(t){e.$router.push({name:"users.view",params:{id:e.$route.params.id}})}).catch(function(e){console.log(e)})}}}},VQKG:function(e,t,a){var s=a("VU/8")(a("GbsF"),a("YLdE"),!1,null,null,null);e.exports=s.exports},YLdE:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("a",{staticClass:"text-success",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.viewUsers(t)}}},[e._v("Users")]),e._v(" "),a("a",{staticClass:"text-secondary"},[e._v(" / Edit User")])]),e._v(" "),a("div",{staticClass:"card-body"},[e.ifReady?a("div",[a("form",{on:{submit:function(t){return t.preventDefault(),e.editUser(t)}}},[a("div",{staticClass:"form-group"},[a("label",[e._v("Picture")]),e._v(" "),a("input",{staticClass:"form-control-file",attrs:{type:"file"},on:{change:e.onFileSelected}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off",minlength:"2",maxlength:"255",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v("Role")]),e._v(" "),a("vue-select",{attrs:{label:"name",options:e.roleList},on:{input:function(t){e.selectRole()}},model:{value:e.roleId,callback:function(t){e.roleId=t},expression:"roleId"}})],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Email Address")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",disabled:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"mobile_number"}},[e._v("Mobile No.")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile_number,expression:"mobile_number"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.mobile_number},on:{input:function(t){t.target.composing||(e.mobile_number=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-outline-success btn-sm",attrs:{type:"button"},on:{click:function(t){return"button"in t||!e._k(t.keyCode,"default",void 0,t.key,void 0)?(t.preventDefault(),e.viewUsers(t)):null}}},[a("i",{staticClass:"fas fa-chevron-left"}),e._v(" Back")]),e._v(" "),a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(t){return"button"in t||!e._k(t.keyCode,"default",void 0,t.key,void 0)?(t.preventDefault(),e.updateAdmin(t)):null}}},[a("i",{staticClass:"fas fa-edit"}),e._v(" Update User")])])]):a("div",[e._m(0)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])}]}}});
//# sourceMappingURL=19.js.map