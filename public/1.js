webpackJsonp([1],{"+4vD":function(e,t,s){var o=s("94Cq");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s("rjj0")("8ee084f8",o,!0,{})},"5xsn":function(e,t,s){var o=s("VU/8")(s("DSpm"),s("ndRU"),!1,function(e){s("+4vD")},null,null);e.exports=o.exports},"94Cq":function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"td{width:100px!important}",""])},DSpm:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{ifReady:!1,from_selected_radio_button:"",to_selected_radio_button:"",warehouses:[],fromWarehouse:null,toWarehouse:null,branches:[],fromBranch:null,toBranch:null,items:null,number:null,date:"",stock_requestable_from_id:null,stock_requestable_from_type:null,stock_requestable_to_id:null,stock_requestable_to_type:null,stock_request_items:[]}},mounted:function(){var e=this,t=new Promise(function(t,s){axios.get("/api/branches/get-all-branches/").then(function(s){e.branches=s.data.branches,t()}).catch(function(e){console.log(e),s()})}),s=new Promise(function(t,s){axios.get("/api/warehouses/get-all-warehouses/").then(function(s){e.warehouses=s.data.warehouses,t()}).catch(function(e){console.log(e),s()})}),o=new Promise(function(t,s){axios.get("/api/items/get-all-items/").then(function(s){e.items=s.data.items,t()}).catch(function(e){console.log(e),s()})});Promise.all([t,s,o]).then(function(){e.ifReady=!0,e.addItem()})},methods:{viewSreq:function(){this.$router.push({name:"stock-requests.index"})},selectFromBranch:function(){this.stock_requestable_from_id=this.fromBranch.id,this.stock_requestable_from_type="App\\Branch"},selectFromWarehouse:function(){this.stock_requestable_from_id=this.fromWarehouse.id,this.stock_requestable_from_type="App\\Warehouse"},selectToBranch:function(){this.stock_requestable_to_id=this.toBranch.id,this.stock_requestable_to_type=" App\\Branch"},selectToWarehouse:function(){this.stock_requestable_to_id=this.toWarehouse.id,this.stock_requestable_to_type="App\\Warehouse"},selectItem:function(e){this.stock_request_items[e].item instanceof Object&&(this.stock_request_items[e].item_id=this.stock_request_items[e].item.id,this.stock_request_items[e].unitOfMeasurement=this.stock_request_items[e].item.default_unit_of_measurement.name,this.stock_request_items[e].unit_of_measurement_id=this.stock_request_items[e].item.default_unit_of_measurement.id)},addItem:function(){this.stock_request_items.push({stock_keeping_unit:"",item:"",item_id:"",quantity:"",unitOfMeasurements:[],unitOfMeasurement:"",unit_of_measurement_id:""})},removeItem:function(e){this.stock_request_items.splice(e,1)},createNewStockRequest:function(){var e=this;this.ifReady=!1;var t=[];this.stock_request_items.forEach(function(e){t.push({item_id:e.item_id,quantity:e.quantity,unit_of_measurement_id:e.unit_of_measurement_id})});var s={number:this.number,stock_requested_date:this.date,stock_requestable_from_id:this.stock_requestable_from_id,stock_requestable_from_type:this.stock_requestable_from_type,stock_requestable_to_id:this.stock_requestable_to_id,stock_requestable_to_type:this.stock_requestable_to_type,stock_request_items:t};axios.post("/api/stock-requests",s).then(function(t){e.$router.push({name:"stock-requests.index"})}).catch(function(t){console.log(t),alert("Error! Can't create stock request"),e.ifReady=!0})}}}},ndRU:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._m(0),e._v(" "),s("div",{staticClass:"p-md-4"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("a",{staticClass:"text-success",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.viewSreq(t)}}},[e._v("Stock Requests")]),e._v(" "),s("a",{staticClass:"text-secondary"},[e._v(" / Create New Stock Request")])]),e._v(" "),s("div",{staticClass:"card-body"},[e.ifReady?s("div",[s("form",{on:{submit:function(t){return t.preventDefault(),e.createNewStockRequest(t)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 form-group"},[s("label",[e._v("Stock Request #")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.number,expression:"number"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.number},on:{input:function(t){t.target.composing||(e.number=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"col-md-6 form-group"},[s("label",[e._v("Stock Request Date")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:e.date},on:{input:function(t){t.target.composing||(e.date=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"col-md-6 form-group"},[s("label",[e._v("From")]),e._v(" "),s("br"),e._v(" "),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.from_selected_radio_button,expression:"from_selected_radio_button"}],attrs:{type:"radio",value:"warehouse"},domProps:{checked:e._q(e.from_selected_radio_button,"warehouse")},on:{change:function(t){e.from_selected_radio_button="warehouse"}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[e._v("  Warehouse")])]),e._v(" "),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.from_selected_radio_button,expression:"from_selected_radio_button"}],attrs:{type:"radio",value:"branch"},domProps:{checked:e._q(e.from_selected_radio_button,"branch")},on:{change:function(t){e.from_selected_radio_button="branch"}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[e._v("  Branch")])]),e._v(" "),s("vue-select",{directives:[{name:"show",rawName:"v-show",value:"warehouse"===e.from_selected_radio_button,expression:"from_selected_radio_button === 'warehouse'"}],attrs:{label:"name",options:e.warehouses},on:{input:function(t){e.selectFromWarehouse()}},model:{value:e.fromWarehouse,callback:function(t){e.fromWarehouse=t},expression:"fromWarehouse"}}),e._v(" "),s("vue-select",{directives:[{name:"show",rawName:"v-show",value:"branch"===e.from_selected_radio_button,expression:"from_selected_radio_button === 'branch'"}],attrs:{label:"name",options:e.branches},on:{input:function(t){e.selectFromBranch()}},model:{value:e.fromBranch,callback:function(t){e.fromBranch=t},expression:"fromBranch"}})],1),e._v(" "),s("div",{staticClass:"col-md-6 form-group"},[s("label",[e._v("To")]),e._v(" "),s("br"),e._v(" "),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.to_selected_radio_button,expression:"to_selected_radio_button"}],attrs:{type:"radio",value:"warehouse"},domProps:{checked:e._q(e.to_selected_radio_button,"warehouse")},on:{change:function(t){e.to_selected_radio_button="warehouse"}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[e._v("  Warehouse")])]),e._v(" "),s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.to_selected_radio_button,expression:"to_selected_radio_button"}],attrs:{type:"radio",value:"branch"},domProps:{checked:e._q(e.to_selected_radio_button,"branch")},on:{change:function(t){e.to_selected_radio_button="branch"}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[e._v("  Branch")])]),e._v(" "),s("vue-select",{directives:[{name:"show",rawName:"v-show",value:"warehouse"===e.to_selected_radio_button,expression:"to_selected_radio_button === 'warehouse'"}],attrs:{label:"name",options:e.warehouses},on:{input:function(t){e.selectToWarehouse()}},model:{value:e.toWarehouse,callback:function(t){e.toWarehouse=t},expression:"toWarehouse"}}),e._v(" "),s("vue-select",{directives:[{name:"show",rawName:"v-show",value:"branch"===e.to_selected_radio_button,expression:"to_selected_radio_button === 'branch'"}],attrs:{label:"name",options:e.branches},on:{input:function(t){e.selectToBranch()}},model:{value:e.toBranch,callback:function(t){e.toBranch=t},expression:"toBranch"}})],1)]),e._v(" "),s("br"),e._v(" "),s("table",{staticClass:"table table-hover table-sm"},[e._m(1),e._v(" "),e._m(2),e._v(" "),s("tbody",e._l(e.stock_request_items,function(t,o){return s("tr",{key:o},[s("td",[e._v(e._s(t.item.stock_keeping_unit))]),e._v(" "),s("td",[s("vue-select",{attrs:{label:"name",options:e.items,required:""},on:{input:function(t){e.selectItem(o)}},model:{value:t.item,callback:function(s){e.$set(t,"item",s)},expression:"stock_request_item.item"}})],1),e._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"stock_request_item.quantity",modifiers:{number:!0}}],staticClass:"form-control",attrs:{required:""},domProps:{value:t.quantity},on:{input:function(s){s.target.composing||e.$set(t,"quantity",e._n(s.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),s("td",[e._v(e._s(t.unitOfMeasurement))]),e._v(" "),s("td",[s("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(t){e.removeItem(o)}}},[s("i",{staticClass:"fas fa-times-circle"})])])])}))]),e._v(" "),s("div",{staticClass:"pt-3"},[s("button",{staticClass:"btn btn-outline-success btn-sm",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.viewSreq(t)}}},[s("i",{staticClass:"fas fa-chevron-left"}),e._v(" Back")]),e._v(" "),s("button",{staticClass:"btn btn-outline-success btn-sm",attrs:{type:"button"},on:{click:e.addItem}},[s("i",{staticClass:"fas fa-plus-circle"}),e._v(" Add Item")]),e._v(" "),e._m(3)])])]):s("div",[e._m(4)])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content-title"},[t("h4",{staticClass:"module-title"},[this._v("STOCK REQUEST")]),this._v(" "),t("hr",{staticClass:"title-border"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("caption",[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3"})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[e._v("SKU")]),e._v(" "),s("th",{attrs:{scope:"col"}},[e._v("Item Name")]),e._v(" "),s("th",{attrs:{scope:"col"}},[e._v("Qty")]),e._v(" "),s("th",{attrs:{scope:"col"}},[e._v("UOM")]),e._v(" "),s("th",{attrs:{scope:"col"}},[e._v("Action")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"submit"}},[t("i",{staticClass:"fas fa-plus"}),this._v(" Create New Stock Request")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])}]}}});
//# sourceMappingURL=1.js.map